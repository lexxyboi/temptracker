<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tempo | Login</title>

    <!-- bundle js -->
    <script defer src="./bundle.js"></script>

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- montserrat font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">

</head>

<style>
    body {
        margin: auto;
        font-family: 'Montserrat', sans-serif;
        overflow: auto;
        background: linear-gradient(315deg, rgba(101, 0, 94, 1) 3%, rgba(60, 132, 206, 1) 38%, rgba(48, 238, 226, 1) 68%, rgba(255, 25, 25, 1) 98%);
        animation: gradient 15s ease infinite;
        background-size: 400% 400%;
        background-attachment: fixed;
    }

    @keyframes gradient {
        0% {
            background-position: 0% 0%;
        }

        50% {
            background-position: 100% 100%;
        }

        100% {
            background-position: 0% 0%;
        }
    }

    .wave {
        background: rgb(255 255 255 / 25%);
        border-radius: 1000% 1000% 0 0;
        position: fixed;
        width: 200%;
        height: 12em;
        animation: wave 10s -3s linear infinite;
        transform: translate3d(0, 0, 0);
        opacity: 0.8;
        bottom: 0;
        left: 0;
        z-index: -1;
    }

    .wave:nth-of-type(2) {
        bottom: -1.25em;
        animation: wave 18s linear reverse infinite;
        opacity: 0.8;
    }

    .wave:nth-of-type(3) {
        bottom: -2.5em;
        animation: wave 20s -1s reverse infinite;
        opacity: 0.9;
    }

    @keyframes wave {
        2% {
            transform: translateX(1);
        }

        25% {
            transform: translateX(-25%);
        }

        50% {
            transform: translateX(-50%);
        }

        75% {
            transform: translateX(-25%);
        }

        100% {
            transform: translateX(1);
        }
    }

    #box {
        position: absolute;
        top: 50%;
        left: 850px;
        transform: translate(-50%, -50%);
        margin: 0 auto;

        width: 300px;
        padding: 15px;

        color: black;

        background: linear-gradient(135deg, rgba(255, 255, 255, 0), rgba(133, 133, 133, 0.76));
        backdrop-filter: blur(30px);
        -webkit-backdrop-filter: blur(30px);
        border-radius: 20px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    }

    .box2 {
        position: absolute;
        top: 50%;
        left: 620px;
        transform: translate(-50%, -50%);
        margin: 0 auto;

        width: 700px;
        height: 370px;
        padding: 20px;

        color: black;


        backdrop-filter: blur(0px);
        -webkit-backdrop-filter: blur(0px);

    }

    #login:hover {
        color: #000000;
        background-color: #29fa6e;
        border-color: #29fa6e;
    }

    h1 {
        -webkit-text-stroke: 2px #f0fff0;
        font-size: 65px;
    }

    h4 {
        -webkit-text-stroke: 1.3px #f0fff0;
    }

    h5 {
        -webkit-text-stroke: 1.3px #f0fff0;
    }

    @keyframes colorChange {
      0% { color: cyan; }
      50% { color: white; }
      100% { color: rgb(0, 225, 255); }
    }

    .tempoword {
        animation: colorChange 2s infinite;
    }
</style>

<body>
    <div class="box2">
        <h1 style="color:white; margin-top: 80px; margin-left: 1px;"><b>Welcome to <strong class="tempoword">Tempo</strong></b> </h1>
        <h5 style="color:white; margin-left: 25px;"></h5>

        <div id="box">
            <form name="login_form" id="login_form" method="post" action="#" enctype="multipart/form-data">
                <div style="font-size: 20px;margin: 0px;color: white;"><b>Login Here</b>
                </div><br>
                <div class="form-group">
                    <label for="email" style="color: white"><b>Email: </b></label>
                    <input type="text" name="login_email" id="login_email" class="form-control"
                        style="box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);" placeholder="Enter your email"><br>
                </div>

                <div class="form-group">
                    <label for="password" style="color: white"><b>Password: </b></label>
                    <input type="password" name="login_password" id="login_password" class="form-control"
                        style="box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);" placeholder="Enter your password"><br>
                </div>
                <button type="button" id="login" name="login" class="btn btn-success"
                    style="box-shadow: 2px 2px 4px rgba(0, 0, 0, 1);">Login</button>
                <br>
            </form>
            <a style="color: white">_________________________________ </a>
            <br><br>
            <a style="color: white" href="register.html"
                onmouseover="this.style.color='#000000';" onmouseout="this.style.color='white';">Click here to register
                ‚Üê </a>


        </div>
    </div>

    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
</body>

</html>

<script type="module">

    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyCDnAKRdk15rCOaiyK1S8m00YRHckpe8TU",
        authDomain: "cputemptracker.firebaseapp.com",
        projectId: "cputemptracker",
        storageBucket: "cputemptracker.appspot.com",
        messagingSenderId: "751453239310",
        appId: "1:751453239310:web:1d2665a64bd547c6c7245f",
        measurementId: "G-2WD18M3EHZ"
    };


    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth();
    console.log(app);


    //----- Login code start	  

    document.getElementById("login").addEventListener("click", function () {
        var email = document.getElementById("login_email").value;
        var password = document.getElementById("login_password").value;

        signInWithEmailAndPassword(auth, email, password).then((userCredential) => {
            // Signed in 
            const user = userCredential.user;
            console.log(user);
            swal({
                title: "Success!",
                text: user.email + " \n \n Login successful !",
                icon: "success",
                button: "OK",
            }).then(() => {
                window.location.replace("homepage.html");
            });
            // ...
        })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.log(errorMessage);
                swal("Error", errorMessage, "error");
            });
    });

</script>